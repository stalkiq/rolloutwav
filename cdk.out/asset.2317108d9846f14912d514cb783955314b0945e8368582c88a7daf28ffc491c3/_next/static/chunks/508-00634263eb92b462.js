"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{6202:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(5155),l=a(2115),r=a(4073),i=a(9434);let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsxs)(r.bL,{ref:s,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",a),...l,children:[(0,t.jsx)(r.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,t.jsx)(r.Q6,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(r.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});n.displayName=r.bL.displayName},7508:(e,s,a)=>{a.d(s,{ProjectDetailContent:()=>X});var t=a(5155),l=a(8046),r=a(518),i=a(8921),n=a(172),c=a(6923),d=a(5943),o=a(8271),m=a(3349),h=a(7223),x=a(1840),p=a(154),u=a(1721),j=a(286),g=a(4301),f=a(1920),N=a(6655),v=a(6874),w=a.n(v),y=a(5695),b=a(1394),k=a(285),C=a(2115),S=a(4165),A=a(8382),D=a(2523),$=a(5057),T=a(8539),U=a(4636),P=a(9409),L=a(7655),M=a(9434);let z=C.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(L.bL,{ref:s,className:(0,M.cn)("relative overflow-hidden",a),...r,children:[(0,t.jsx)(L.LM,{className:"h-full w-full rounded-[inherit]",children:l}),(0,t.jsx)(I,{}),(0,t.jsx)(L.OK,{})]})});z.displayName=L.bL.displayName;let I=C.forwardRef((e,s)=>{let{className:a,orientation:l="vertical",...r}=e;return(0,t.jsx)(L.VM,{ref:s,orientation:l,className:(0,M.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...r,children:(0,t.jsx)(L.lr,{className:"relative flex-1 rounded-full bg-border"})})});I.displayName=L.VM.displayName;var F=a(5511),E=a(3013),O=a(5095),R=a(659),_=a(4063),B=a(9274);function J(e){let{update:s}=e;return(0,t.jsxs)("div",{className:"rounded-lg border bg-card p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,t.jsxs)("div",{className:(0,M.cn)("flex items-center gap-1.5 text-sm",{"text-green-500":"On Track"===s.status,"text-yellow-500":"At Risk"===s.status,"text-red-500":"Off Track"===s.status,"text-muted-foreground":"No updates"===s.status}),children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:s.status})]}),(0,t.jsxs)(b.eu,{className:"h-6 w-6",children:[s.avatar?(0,t.jsx)(b.BK,{src:s.avatar,alt:s.author}):null,(0,t.jsx)(b.q5,{className:"text-xs bg-primary text-primary-foreground",children:s.author.substring(0,2).toUpperCase()})]}),(0,t.jsx)("span",{className:"font-medium text-sm",children:s.author}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:(0,O.m)(s.timestamp,{addSuffix:!0})})]}),(0,t.jsx)("p",{className:"text-foreground whitespace-pre-wrap",children:s.text}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k.$,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground",children:(0,t.jsx)(_.A,{className:"h-4 w-4"})}),(0,t.jsx)(k.$,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted-foreground",children:(0,t.jsx)(B.A,{className:"h-4 w-4"})})]})]})}var V=a(4838),W=a(4046),H=a(6102),q=a(3940);function G(e){let{events:s}=e;if(0===s.length)return(0,t.jsx)("div",{className:"flex items-center justify-center h-full text-center p-8",children:(0,t.jsxs)("p",{className:"text-muted-foreground",children:["No timeline events yet. ",(0,t.jsx)("br",{})," Upload a file or add an update to get started."]})});let a=e=>(0,t.jsx)("span",{className:"text-xs font-semibold text-muted-foreground",children:(0,E.GP)(e.timestamp,"p")});return(0,t.jsx)("div",{className:"relative py-4",children:(0,t.jsx)("ul",{className:"space-y-8",children:s.map((e,s)=>(0,t.jsx)("li",{className:"relative",children:(0,t.jsxs)("div",{className:"flex items-start w-full",children:[(0,t.jsx)("div",{className:"w-24 shrink-0 pt-1",children:a(e)}),(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,E.GP)(e.timestamp,"MMM d, yyyy")}),(0,t.jsx)("h4",{className:"font-semibold text-foreground",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground break-words",children:e.description})]})]})},e.id))})})}var Q=a(5731),Y=a(6202);function Z(e){var s;let{files:a}=e,[l,r]=(0,C.useState)(()=>a.map(e=>({id:e.id,name:e.name,url:e.url,selected:!1,volume:1}))),[i,n]=(0,C.useState)(!1),[c,d]=(0,C.useState)(!1),o=(0,C.useRef)(null),m=(0,C.useRef)(null);async function h(e){let s=function(e){try{let s=new URL(e),a=decodeURIComponent(s.pathname);if(s.hostname.includes(".s3"))return a.startsWith("/")?a.slice(1):a;let t=a.split("/").filter(Boolean);if(t.length>=2)return t.slice(1).join("/");return null}catch(e){return null}}(e);try{if(s)return(await Q.api.presign({key:s,action:"get"})).url||e}catch(e){}return e}async function x(e,s){if(e.buffer)return e.buffer;let a=await h(e.url),t=await fetch(a),l=await t.arrayBuffer();return await s.decodeAudioData(l)}function p(){r(e=>(e.forEach(e=>{var s,a,t;try{null==(s=e.source)||s.stop()}catch(e){}try{null==(a=e.source)||a.disconnect(),null==(t=e.gain)||t.disconnect()}catch(e){}e.source=void 0,e.gain=void 0}),[...e]))}async function u(){let e=o.current;"suspended"===e.state&&await e.resume(),n(!0);try{let s=l.filter(e=>e.selected);if(0===s.length)return;p();let a=e.currentTime+.2;for(let t of s){let s=await x(t,e),l=e.createBufferSource();l.buffer=s;let r=e.createGain();r.gain.value=t.volume,l.connect(r),r.connect(m.current),l.start(a),t.buffer=s,t.source=l,t.gain=r}r([...l]),d(!0)}finally{n(!1)}}async function j(){let e=o.current;await e.suspend(),d(!1)}async function g(){let e=o.current;await e.resume(),d(!0)}(0,C.useEffect)(()=>{if(!o.current){let e=new(window.AudioContext||window.webkitAudioContext),s=e.createGain();s.connect(e.destination),o.current=e,m.current=s}},[]),(0,C.useEffect)(()=>{r(e=>{let s=new Map(e.map(e=>[e.id,e]));return a.map(e=>{let a=s.get(e.id);return a?{...a,name:e.name,url:e.url}:{id:e.id,name:e.name,url:e.url,selected:!1,volume:1}})})},[a]);let f=m.current;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:0===l.length?"No files yet. Upload tracks above and theyâ€™ll appear here immediately.":"Select multiple files and adjust per-track volumes. Click Play to start them in sync."}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-72 overflow-auto pr-2",children:l.map(e=>{var s;return(0,t.jsxs)("label",{className:"flex items-center gap-3 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.selected,onChange:s=>{e.selected=s.target.checked,r([...l])}}),(0,t.jsx)("span",{className:"truncate flex-1",children:e.name}),(0,t.jsx)("div",{className:"w-28 flex items-center gap-2",children:(0,t.jsx)(Y.A,{value:[Math.round((null!=(s=e.volume)?s:1)*100)],disabled:!e.selected&&!c,onValueChange:s=>{var a;let t=(null!=(a=s[0])?a:100)/100;e.volume=t,e.gain&&(e.gain.gain.value=t),r([...l])}})})]},e.id)})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[c?(0,t.jsx)(k.$,{onClick:j,children:"Pause"}):(0,t.jsx)(k.$,{onClick:u,disabled:i,children:i?"Loading...":"Play"}),!c&&(0,t.jsx)(k.$,{variant:"outline",onClick:g,disabled:i,children:"Resume"}),(0,t.jsx)(k.$,{variant:"outline",onClick:function(){p(),d(!1)},children:"Stop"}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{children:"Master"}),(0,t.jsx)("div",{className:"w-32",children:(0,t.jsx)(Y.A,{value:[Math.round((null!=(s=null==f?void 0:f.gain.value)?s:1)*100)],onValueChange:e=>{var s;f&&(f.gain.value=(null!=(s=e[0])?s:100)/100)}})})]})]})]})}function K(){let[e,s]=(0,C.useState)(null),{getProjectsForAlbum:a,updateProject:v}=(0,W.O)(),[L,I]=(0,C.useState)(""),[O,R]=(0,C.useState)("Add a short summary..."),[_,B]=(0,C.useState)(!1),[Y,K]=(0,C.useState)(!1),[X,ee]=(0,C.useState)("Backlog"),[es,ea]=(0,C.useState)("No priority"),[et,el]=(0,C.useState)(void 0),[er,ei]=(0,C.useState)(void 0),[en,ec]=(0,C.useState)([]),[ed,eo]=(0,C.useState)(!1),[em,eh]=(0,C.useState)([]),[ex,ep]=(0,C.useState)(!1),[eu,ej]=(0,C.useState)(!1),[eg,ef]=(0,C.useState)(""),[eN,ev]=(0,C.useState)([]),[ew,ey]=(0,C.useState)(!1),[eb,ek]=(0,C.useState)([]),[eC,eS]=(0,C.useState)(!1),[eA,eD]=(0,C.useState)([]),[e$,eT]=(0,C.useState)(!1),[eU,eP]=(0,C.useState)(!1),[eL,eM]=(0,C.useState)(null),[ez,eI]=(0,C.useState)(!1),[eF,eE]=(0,C.useState)(""),[eO,eR]=(0,C.useState)(!1),[e_,eB]=(0,C.useState)({}),[eJ,eV]=(0,C.useState)([]),[eW,eH]=(0,C.useState)([]),[eq,eG]=(0,C.useState)([]),[eQ,eY]=(0,C.useState)([]),[eZ,eK]=(0,C.useState)(null),[eX,e0]=(0,C.useState)([]),[e1,e4]=(0,C.useState)([]),[e2,e3]=(0,C.useState)([]),[e9,e5]=(0,C.useState)([]),{setCurrentTrack:e8}=(0,q.R)(),e7=(0,C.useRef)(null),e6=(0,C.useRef)(null),se=(0,C.useRef)(null),ss=(0,C.useRef)(null),sa=(0,C.useRef)(null),[st,sl]=(0,C.useState)(null),sr=(0,y.useParams)(),si=(0,y.useSearchParams)(),sn=(0,y.useRouter)(),sc=sr.id||si.get("id"),sd=si.get("album"),so=sd?a(sd):[],sm=(0,C.useCallback)(async a=>{if(e&&sd){var t,l,r,i,n,c,d;let o={...e,...a};v(sd,o),s(o);let m=e=>(e||[]).map(e=>({id:e.id,name:e.name,url:e.url,timestamp:e.timestamp instanceof Date?e.timestamp.toISOString():e.timestamp})),h={name:o.name,status:o.status,priority:o.priority,description:null!=(t=o.description)?t:"",updates:null!=(l=o.updates)?l:[],artists:null!=(r=o.artists)?r:[],producers:null!=(i=o.producers)?i:[],writers:null!=(n=o.writers)?n:[],lead:null!=(c=o.lead)?c:"You",startDate:o&&o.startDate?o.startDate instanceof Date?o.startDate.toISOString():o.startDate:null,targetDate:o.targetDate instanceof Date?o.targetDate.toISOString():null!=(d=o.targetDate)?d:null,verses:m(o.verses),hooks:m(o.hooks),beats:m(o.beats),samples:m(o.samples),finalSong:o.finalSong?{...o.finalSong,timestamp:o.finalSong.timestamp instanceof Date?o.finalSong.timestamp.toISOString():o.finalSong.timestamp}:null};try{await fetch("".concat(Q.API_URL,"/projects/").concat(e.id,"?albumId=").concat(sd),{method:"PUT",headers:{"content-type":"application/json",...localStorage.getItem("id_token")?{Authorization:"Bearer ".concat(localStorage.getItem("id_token"))}:{}},body:JSON.stringify(h)})}catch(e){}}},[e,sd,v]),sh=(0,C.useCallback)(async()=>{if(sc&&sd)try{let l=await fetch("".concat(Q.API_URL,"/projects/").concat(sc,"?albumId=").concat(sd),{cache:"no-store",headers:{...localStorage.getItem("id_token")?{Authorization:"Bearer ".concat(localStorage.getItem("id_token"))}:{}}});if(l.ok){var a,t;let r=await l.json(),i=e=>(e||[]).map(e=>({...e,timestamp:new Date(e.timestamp)})),n={id:r.projectId||sc,name:r.name||(null==e?void 0:e.name)||"Untitled project",emoji:(null==e?void 0:e.emoji)||"\uD83C\uDFB5",status:r.status||(null==e?void 0:e.status)||"On Track",targetDate:r.targetDate?new Date(r.targetDate):(null==e?void 0:e.targetDate)||new Date,type:(null==e?void 0:e.type)||"Song",priority:r.priority||(null==e?void 0:e.priority)||"No priority",lead:r.lead||(null==e?void 0:e.lead)||"You",progress:(null==e?void 0:e.progress)||0,description:null!=(t=null!=(a=r.description)?a:null==e?void 0:e.description)?t:"",updates:(r.updates||[]).map(e=>({...e,timestamp:new Date(e.timestamp)}))||(null==e?void 0:e.updates)||[],artists:r.artists||(null==e?void 0:e.artists)||[],producers:r.producers||(null==e?void 0:e.producers)||[],writers:r.writers||(null==e?void 0:e.writers)||[],verses:i(r.verses)||(null==e?void 0:e.verses)||[],hooks:i(r.hooks)||(null==e?void 0:e.hooks)||[],beats:i(r.beats)||(null==e?void 0:e.beats)||[],samples:i(r.samples)||(null==e?void 0:e.samples)||[],finalSong:r.finalSong?{...r.finalSong,timestamp:new Date(r.finalSong.timestamp)}:(null==e?void 0:e.finalSong)||null};s(n),I(n.name);let c=n.description||"Add description...";R(c),eE(c),ei(n.targetDate),eh(n.artists||[]),ev(n.producers||[]),ek(n.writers||[]);let d=(n.updates||[]).sort((e,s)=>s.timestamp.getTime()-e.timestamp.getTime());eD(d),eM(d.length>0?d[0]:null),eV(n.verses||[]),eH(n.hooks||[]),eG(n.beats||[]),eY(n.samples||[]),eK(n.finalSong||null)}}catch(e){}},[sc,sd,e]);(0,C.useEffect)(()=>{(async()=>{if(!(sc&&sd))return;let e=a(sd).find(e=>e.id===sc)||null;try{let s=await fetch("".concat(Q.API_URL,"/projects/").concat(sc,"?albumId=").concat(sd),{cache:"no-store",headers:{...localStorage.getItem("id_token")?{Authorization:"Bearer ".concat(localStorage.getItem("id_token"))}:{}}});if(s.ok){var t,l;let a=await s.json(),r=e=>(e||[]).map(e=>({...e,timestamp:new Date(e.timestamp)}));e={id:a.projectId||sc,name:a.name||(null==e?void 0:e.name)||"Untitled project",emoji:(null==e?void 0:e.emoji)||"\uD83C\uDFB5",status:a.status||(null==e?void 0:e.status)||"On Track",targetDate:a.targetDate?new Date(a.targetDate):(null==e?void 0:e.targetDate)||new Date,type:(null==e?void 0:e.type)||"Song",priority:a.priority||(null==e?void 0:e.priority)||"No priority",lead:a.lead||(null==e?void 0:e.lead)||"You",progress:(null==e?void 0:e.progress)||0,description:null!=(l=null!=(t=a.description)?t:null==e?void 0:e.description)?l:"",updates:(a.updates||[]).map(e=>({...e,timestamp:new Date(e.timestamp)}))||(null==e?void 0:e.updates)||[],artists:a.artists||(null==e?void 0:e.artists)||[],producers:a.producers||(null==e?void 0:e.producers)||[],writers:a.writers||(null==e?void 0:e.writers)||[],verses:r(a.verses)||(null==e?void 0:e.verses)||[],hooks:r(a.hooks)||(null==e?void 0:e.hooks)||[],beats:r(a.beats)||(null==e?void 0:e.beats)||[],samples:r(a.samples)||(null==e?void 0:e.samples)||[],finalSong:a.finalSong?{...a.finalSong,timestamp:new Date(a.finalSong.timestamp)}:(null==e?void 0:e.finalSong)||null}}}catch(e){}if(e){s(e),I(e.name);let a=e.description||"Add description...";R(a),eE(a),ei(e.targetDate),eh(e.artists||[]),ev(e.producers||[]),ek(e.writers||[]);let t=(e.updates||[]).sort((e,s)=>s.timestamp.getTime()-e.timestamp.getTime());eD(t),eM(t.length>0?t[0]:null),eV(e.verses||[]),eH(e.hooks||[]),eG(e.beats||[]),eY(e.samples||[]),eK(e.finalSong||null)}})()},[sc,sd,a]);let sx=(0,C.useMemo)(()=>{let e=e=>e instanceof Date?e:new Date(e),s=[...eJ.map(s=>({id:s.id,type:"Upload",timestamp:e(s.timestamp),title:"Verse Added",description:s.name,contentType:"Verse"})),...eW.map(s=>({id:s.id,type:"Upload",timestamp:e(s.timestamp),title:"Hook Added",description:s.name,contentType:"Hook"})),...eq.map(s=>({id:s.id,type:"Upload",timestamp:e(s.timestamp),title:"Beat Added",description:s.name,contentType:"Beat"})),...eQ.map(s=>({id:s.id,type:"Upload",timestamp:e(s.timestamp),title:"Sample Added",description:s.name,contentType:"Sample"}))];return eZ&&s.push({id:"final-song",type:"Upload",timestamp:eZ.timestamp instanceof Date?eZ.timestamp:new Date(eZ.timestamp),title:"Final Song Uploaded",description:eZ.name,contentType:"Song"}),[...s,...eA.map(e=>({id:e.id,type:"Update",timestamp:e.timestamp instanceof Date?e.timestamp:new Date(e.timestamp),title:"Project Update",description:e.text}))].sort((e,s)=>e.timestamp.getTime()-s.timestamp.getTime())},[eJ,eW,eq,eQ,eZ,eA]),sp=async e=>{e.preventDefault();let s=new FormData(e.currentTarget),a=s.get("updateText"),t=s.get("updateStatus");if(a){let e={id:crypto.randomUUID(),text:a,author:"Stalkiq",avatar:"",status:t,timestamp:new Date},s=[e,...eA];eD(s),eM(e),await sm({updates:s}),eT(!1),sh()}},su=async(e,s)=>{var a;let t=null==(a=e.target.files)?void 0:a[0];if(t)try{if(sl(s),!localStorage.getItem("id_token"))return void alert("Please sign in again to upload.");let a=await t.arrayBuffer(),l=await crypto.subtle.digest("SHA-256",a).then(e=>Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")),r=await Q.api.presign({filename:t.name,contentType:t.type||"application/octet-stream",action:"put",hash:l});await fetch(r.url,{method:"PUT",body:t,headers:{"content-type":t.type||"application/octet-stream"}});let i=await Q.api.presign({key:r.key,action:"get"}),n={id:crypto.randomUUID(),name:t.name,url:i.url,timestamp:new Date},c=async(e,a)=>{let t=[...e,a];switch(s){case"verse":eV(t),await sm({verses:t});break;case"hook":eH(t),await sm({hooks:t});break;case"beat":eG(t),await sm({beats:t});break;case"sample":eY(t),await sm({samples:t})}};switch(s){case"verse":await c(eJ,n);break;case"hook":await c(eW,n);break;case"beat":await c(eq,n);break;case"sample":await c(eQ,n)}e.target.value="",sl(null),await sh();try{sn.refresh()}catch(e){}}catch(e){console.error("Upload failed",e),alert("Upload failed. Please sign in and try again."),sl(null)}},sj=async e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(a)try{if(sl("final"),!localStorage.getItem("id_token"))return void alert("Please sign in again to upload.");let s=await Q.api.presign({filename:a.name,contentType:a.type||"audio/mpeg",action:"put"});await fetch(s.url,{method:"PUT",body:a,headers:{"content-type":a.type||"audio/mpeg"}});let t=await Q.api.presign({key:s.key,action:"get"}),l={id:"final-song",name:a.name,url:t.url,timestamp:new Date};eK(l),await sm({finalSong:l}),e.target.value="",sl(null),sh()}catch(e){console.error("Final song upload failed",e),alert("Upload failed. Please sign in and try again."),sl(null)}},sg=(e,s)=>{switch(s){case"verse":e0(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]);break;case"hook":e4(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]);break;case"beat":e3(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]);break;case"sample":e5(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])}},sf=eX.length+e1.length+e2.length+e9.length,sN=(e,s,a)=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h4",{className:"font-medium capitalize text-sm",children:[a,"s"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(k.$,{variant:"ghost",size:"icon",className:"h-6 w-6",children:(0,t.jsx)(l.A,{className:"h-4 w-4"})}),(0,t.jsx)(D.p,{type:"file",accept:"audio/*,.pdf,.doc,.docx",className:"absolute inset-0 opacity-0 w-full h-full cursor-pointer",onChange:e=>su(e,a)})]})]}),e.length>0?(0,t.jsx)(z,{className:"h-auto max-h-32",children:(0,t.jsx)("div",{className:"space-y-1 pr-4",children:e.map(e=>(0,t.jsx)(H.Bc,{delayDuration:300,children:(0,t.jsxs)(H.m_,{children:[(0,t.jsx)(H.k$,{asChild:!0,children:(0,t.jsxs)("div",{onClick:()=>sg(e.id,a),className:(0,M.cn)("flex items-center space-x-2 p-1.5 rounded-md cursor-pointer hover:bg-accent",s.includes(e.id)&&"bg-accent"),children:[s.includes(e.id)?(0,t.jsx)(r.A,{className:"h-4 w-4 text-primary shrink-0"}):(0,t.jsx)("div",{className:"h-4 w-4 shrink-0"}),(0,t.jsx)("span",{className:"text-sm font-normal truncate flex-1 min-w-0",children:e.name})]})}),(0,t.jsx)(H.ZI,{children:(0,t.jsx)("p",{children:e.name})})]})},e.id))})}):(0,t.jsxs)("p",{className:"text-xs text-muted-foreground px-1.5",children:["No ",a,"s uploaded."]})]});if(!e)return(0,t.jsx)("div",{className:"flex h-screen bg-background text-foreground items-center justify-center",children:(0,t.jsx)("p",{children:"Loading project..."})});let sv=e=>(0,t.jsxs)(k.$,{variant:"outline",size:"sm",className:"h-7",onClick:async()=>{let s=e.url,a=(e=>{try{let s=new URL(e),a=s.hostname,t=decodeURIComponent(s.pathname);if(a.includes(".s3"))return t.startsWith("/")?t.slice(1):t;let l=t.split("/").filter(Boolean);if(l.length>=2)return l.slice(1).join("/");return null}catch(e){return null}})(e.url);try{a&&(s=(await Q.api.presign({key:a,action:"get"})).url||s)}catch(e){}e8({name:e.name,url:s})},children:[(0,t.jsx)(i.A,{className:"h-3 w-3 mr-2"}),(0,t.jsx)("span",{className:"truncate max-w-[150px]",children:e.name})]},e.id);return(0,t.jsx)("div",{className:"flex h-screen bg-background text-foreground",children:(0,t.jsxs)("main",{className:"flex-1 overflow-auto pb-20",children:[(0,t.jsxs)("header",{className:"flex items-center justify-between border-b border-border p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(w(),{href:"/projects?album=".concat(sd),className:"text-muted-foreground hover:text-foreground",children:"Projects"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"/"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"p-1.5 bg-green-900/50 rounded-md",children:(0,t.jsxs)("svg",{className:"size-4 text-green-400",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M16.8392 10.3801C16.8392 7.08008 14.1592 4.40008 10.8592 4.40008C7.55919 4.40008 4.87919 7.08008 4.87919 10.3801C4.87919 12.8301 6.50919 14.9301 8.73919 15.6801V16.7801C8.73919 17.6101 9.40919 18.2801 10.2392 18.2801H11.4792C12.3092 18.2801 12.9792 17.6101 12.9792 16.7801V15.6801C15.2092 14.9301 16.8392 12.8301 16.8392 10.3801Z",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10"}),(0,t.jsx)("path",{d:"M10.8601 18.2799V20.9999",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10"}),(0,t.jsx)("path",{d:"M7.7998 10.3799H13.9198",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10"}),(0,t.jsx)("path",{d:"M9.03906 13.48H12.6791",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10"}),(0,t.jsx)("path",{d:"M19.1209 10.3801C19.1209 12.2001 18.3109 13.8501 17.0009 14.9501",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M18.1302 7.82993C18.7702 8.56993 19.1202 9.45993 19.1202 10.3799",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M4.88019 10.3799C4.88019 9.45993 5.23019 8.56993 5.87019 7.82993C6.42019 7.19993 7.14019 6.70993 7.96019 6.42993",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,t.jsx)("h1",{className:"text-lg font-semibold",children:L})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-md bg-accent p-1",children:[eZ?(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-6 bg-background",onClick:()=>e8({name:eZ.name,url:eZ.url}),children:[(0,t.jsx)(i.A,{className:"mr-2 h-3 w-3"}),(0,t.jsx)("span",{className:"truncate max-w-[150px]",children:eZ.name})]}):(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{ref:sa,type:"file",accept:"audio/*",className:"hidden",onChange:sj,"aria-hidden":!0,tabIndex:-1}),(0,t.jsx)(k.$,{variant:"ghost",size:"sm",className:"h-6 bg-background",disabled:"final"===st,onClick:()=>{var e;return null==(e=sa.current)?void 0:e.click()},children:"final"===st?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.A,{className:"mr-2 h-3 w-3 animate-spin"})," Uploading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.A,{className:"mr-2 h-3 w-3"})," Upload Song"]})})]}),(0,t.jsx)(k.$,{variant:"ghost",size:"sm",className:"h-6 bg-background",onClick:()=>K(!0),children:"Timeline"}),(0,t.jsxs)(U.AM,{children:[(0,t.jsx)(U.Wv,{asChild:!0,children:(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-6 bg-background relative",children:["Overview",sf>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary text-primary-foreground text-xs",children:sf})]})}),(0,t.jsx)(U.hl,{className:"w-80",align:"start",children:(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h4",{className:"font-medium leading-none",children:"Song Composition"}),sf>0&&(0,t.jsx)(k.$,{variant:"link",size:"sm",className:"p-0 h-auto text-xs",onClick:()=>{e0([]),e4([]),e3([]),e5([])},children:"Clear all"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select the files used in the final mix."})]}),(0,t.jsxs)("div",{className:"grid gap-4",children:[sN(eJ,eX,"verse"),sN(eW,e1,"hook"),sN(eq,e2,"beat"),sN(eQ,e9,"sample")]})]})})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k.$,{variant:"ghost",size:"icon",onClick:()=>B(!0),children:(0,t.jsx)(d.A,{className:"h-4 w-4"})}),(0,t.jsxs)(V.rI,{children:[(0,t.jsx)(V.ty,{asChild:!0,children:(0,t.jsx)(k.$,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",children:(0,t.jsx)(b.eu,{className:"h-6 w-6",children:(0,t.jsx)(b.q5,{className:"text-xs bg-primary text-primary-foreground",children:"ST"})})})}),(0,t.jsxs)(V.SQ,{align:"end",children:[(0,t.jsx)(V.lp,{children:"StalkIQ"}),(0,t.jsx)(V.mB,{}),(0,t.jsxs)(V._2,{children:[(0,t.jsx)(o.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Settings"})]}),(0,t.jsx)(V.mB,{}),(0,t.jsxs)(V._2,{children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Logout"})]})]})]}),(0,t.jsx)(k.$,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Delete files","aria-label":"Delete files",onClick:()=>{let e={};[...eJ,...eW,...eq,...eQ].forEach(s=>{e[s.id]=!1}),eZ&&(e[eZ.id]=!1),eB(e),eR(!0)},children:(0,t.jsx)(h.A,{className:"h-4 w-4"})})]})]}),(0,t.jsx)(S.lG,{open:_,onOpenChange:B,children:(0,t.jsxs)(S.Cf,{children:[(0,t.jsxs)(S.c7,{children:[(0,t.jsx)(S.L3,{children:"Edit Project"}),(0,t.jsx)(S.rr,{children:"Make changes to your project here. Click save when you're done."})]}),(0,t.jsxs)("form",{onSubmit:e=>{var s;e.preventDefault();let a=new FormData(e.currentTarget),t=a.get("projectName"),l=null!=(s=a.get("projectDescription"))?s:"";I(t),R(l),eE(l),sm({name:t,description:l}),B(!1)},children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"projectName",className:"text-right",children:"Name"}),(0,t.jsx)(D.p,{id:"projectName",name:"projectName",defaultValue:L,className:"col-span-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-start gap-4",children:[(0,t.jsx)($.J,{htmlFor:"projectDescription",className:"text-right pt-2",children:"Subtitle"}),(0,t.jsx)(T.T,{id:"projectDescription",name:"projectDescription",placeholder:"Short text under the project name",defaultValue:O,className:"col-span-3"})]})]}),(0,t.jsxs)(S.Es,{children:[(0,t.jsx)(S.HM,{asChild:!0,children:(0,t.jsx)(k.$,{type:"button",variant:"secondary",children:"Cancel"})}),(0,t.jsx)(k.$,{type:"submit",children:"Save changes"})]})]})]})}),(0,t.jsx)(S.lG,{open:eO,onOpenChange:eR,children:(0,t.jsxs)(S.Cf,{children:[(0,t.jsxs)(S.c7,{children:[(0,t.jsx)(S.L3,{children:"Delete files"}),(0,t.jsx)(S.rr,{children:"Select the files you want to remove from this project."})]}),(0,t.jsxs)("div",{className:"space-y-3 max-h-64 overflow-auto pr-2",children:[[["Verses",eJ],["Hooks",eW],["Beats",eq],["Samples",eQ]].map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:s}),0===a.length?(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["No ",s.toLowerCase(),"."]}):a.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:!!e_[e.id],onChange:s=>eB(a=>({...a,[e.id]:s.target.checked}))}),(0,t.jsx)("span",{className:"truncate flex-1",children:e.name})]},e.id))]},s)}),eZ&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Final Song"}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:!!e_[eZ.id],onChange:e=>eB(s=>({...s,[eZ.id]:e.target.checked}))}),(0,t.jsx)("span",{className:"truncate flex-1",children:eZ.name})]})]})]}),(0,t.jsxs)(S.Es,{children:[(0,t.jsx)(S.HM,{asChild:!0,children:(0,t.jsx)(k.$,{type:"button",variant:"secondary",children:"Cancel"})}),(0,t.jsx)(k.$,{variant:"destructive",onClick:()=>{let e=new Set(Object.entries(e_).filter(e=>{let[,s]=e;return s}).map(e=>{let[s]=e;return s}));if(0===e.size)return void eR(!1);let s=s=>s.filter(s=>!e.has(s.id)),a=s(eJ),t=s(eW),l=s(eq),r=s(eQ),i=eZ&&e.has(eZ.id)?null:eZ;eV(a),eH(t),eG(l),eY(r),eK(i),sm({verses:a,hooks:t,beats:l,samples:r,finalSong:i||void 0}),eR(!1)},children:"Delete selected"})]})]})}),(0,t.jsx)(S.lG,{open:ed,onOpenChange:eo,children:(0,t.jsxs)(S.Cf,{children:[(0,t.jsxs)(S.c7,{children:[(0,t.jsx)(S.L3,{children:"Add Milestone"}),(0,t.jsx)(S.rr,{children:"Create a new milestone for your project."})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=new FormData(e.currentTarget),a=s.get("milestoneName"),t=s.get("milestoneDescription");a&&(ec([...en,{id:crypto.randomUUID(),name:a,description:t}]),eo(!1),e.currentTarget.reset())},children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"milestoneName",className:"text-right",children:"Name"}),(0,t.jsx)(D.p,{id:"milestoneName",name:"milestoneName",placeholder:"e.g. Q3 Release",className:"col-span-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-start gap-4",children:[(0,t.jsx)($.J,{htmlFor:"milestoneDescription",className:"text-right pt-2",children:"Details"}),(0,t.jsx)(T.T,{id:"milestoneDescription",name:"milestoneDescription",placeholder:"Add more details about this milestone...",className:"col-span-3"})]})]}),(0,t.jsxs)(S.Es,{children:[(0,t.jsx)(S.HM,{asChild:!0,children:(0,t.jsx)(k.$,{type:"button",variant:"secondary",children:"Cancel"})}),(0,t.jsx)(k.$,{type:"submit",children:"Add Milestone"})]})]})]})}),(0,t.jsx)(S.lG,{open:ex,onOpenChange:ep,children:(0,t.jsxs)(S.Cf,{children:[(0,t.jsxs)(S.c7,{children:[(0,t.jsx)(S.L3,{children:"Add Artist"}),(0,t.jsx)(S.rr,{children:"Invite a new artist to collaborate on this project."})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=new FormData(e.currentTarget),a=s.get("artistName"),t=s.get("artistEmail"),l=s.get("artistPhone");if(a){let s=[...em,{name:a,email:t,phone:l}];eh(s),sm({artists:s}),ep(!1),e.currentTarget.reset()}},children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"artistName",className:"text-right",children:"Name"}),(0,t.jsx)(D.p,{id:"artistName",name:"artistName",placeholder:"e.g. Jane Doe",className:"col-span-3",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"artistEmail",className:"text-right",children:"Email"}),(0,t.jsx)(D.p,{id:"artistEmail",name:"artistEmail",type:"email",placeholder:"e.g. jane@example.com",className:"col-span-3",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"artistPhone",className:"text-right",children:"Phone"}),(0,t.jsx)(D.p,{id:"artistPhone",name:"artistPhone",type:"tel",placeholder:"e.g. (123) 456-7890",className:"col-span-3",required:!0})]})]}),(0,t.jsxs)(S.Es,{children:[(0,t.jsx)(S.HM,{asChild:!0,children:(0,t.jsx)(k.$,{type:"button",variant:"secondary",children:"Cancel"})}),(0,t.jsx)(k.$,{type:"submit",children:"Add Artist"})]})]})]})}),(0,t.jsx)(S.lG,{open:ew,onOpenChange:ey,children:(0,t.jsxs)(S.Cf,{children:[(0,t.jsxs)(S.c7,{children:[(0,t.jsx)(S.L3,{children:"Add Producer"}),(0,t.jsx)(S.rr,{children:"Add a new producer to this project."})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=new FormData(e.currentTarget),a=s.get("producerName"),t=s.get("producerEmail"),l=s.get("producerPhone");if(a){let s=[...eN,{name:a,email:t,phone:l}];ev(s),sm({producers:s}),ey(!1),e.currentTarget.reset()}},children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"producerName",className:"text-right",children:"Name"}),(0,t.jsx)(D.p,{id:"producerName",name:"producerName",placeholder:"e.g. Metro Boomin",className:"col-span-3",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"producerEmail",className:"text-right",children:"Email"}),(0,t.jsx)(D.p,{id:"producerEmail",name:"producerEmail",type:"email",placeholder:"e.g. producer@example.com",className:"col-span-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"producerPhone",className:"text-right",children:"Phone"}),(0,t.jsx)(D.p,{id:"producerPhone",name:"producerPhone",type:"tel",placeholder:"e.g. (123) 456-7890",className:"col-span-3"})]})]}),(0,t.jsxs)(S.Es,{children:[(0,t.jsx)(S.HM,{asChild:!0,children:(0,t.jsx)(k.$,{type:"button",variant:"secondary",children:"Cancel"})}),(0,t.jsx)(k.$,{type:"submit",children:"Add Producer"})]})]})]})}),(0,t.jsx)(S.lG,{open:eu,onOpenChange:ej,children:(0,t.jsxs)(S.Cf,{children:[(0,t.jsxs)(S.c7,{children:[(0,t.jsx)(S.L3,{children:"Add Lead"}),(0,t.jsx)(S.rr,{children:"Assign a lead for this project."})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=new FormData(e.currentTarget).get("leadName");s&&(sm({lead:s}),ej(!1))},children:[(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"leadName",className:"text-right",children:"Name"}),(0,t.jsx)(D.p,{id:"leadName",name:"leadName",placeholder:"e.g. Project Lead",className:"col-span-3",required:!0})]})}),(0,t.jsxs)(S.Es,{children:[(0,t.jsx)(S.HM,{asChild:!0,children:(0,t.jsx)(k.$,{type:"button",variant:"secondary",children:"Cancel"})}),(0,t.jsx)(k.$,{type:"submit",children:"Set Lead"})]})]})]})}),(0,t.jsx)(S.lG,{open:eC,onOpenChange:eS,children:(0,t.jsxs)(S.Cf,{children:[(0,t.jsxs)(S.c7,{children:[(0,t.jsx)(S.L3,{children:"Add Writer"}),(0,t.jsx)(S.rr,{children:"Add a new writer to this project."})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=new FormData(e.currentTarget),a=s.get("writerName"),t=s.get("writerEmail"),l=s.get("writerPhone");if(a){let s=[...eb,{name:a,email:t,phone:l}];ek(s),sm({writers:s}),eS(!1),e.currentTarget.reset()}},children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"writerName",className:"text-right",children:"Name"}),(0,t.jsx)(D.p,{id:"writerName",name:"writerName",placeholder:"e.g. John Lennon",className:"col-span-3",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"writerEmail",className:"text-right",children:"Email"}),(0,t.jsx)(D.p,{id:"writerEmail",name:"writerEmail",type:"email",placeholder:"e.g. writer@example.com",className:"col-span-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"writerPhone",className:"text-right",children:"Phone"}),(0,t.jsx)(D.p,{id:"writerPhone",name:"writerPhone",type:"tel",placeholder:"e.g. (123) 456-7890",className:"col-span-3"})]})]}),(0,t.jsxs)(S.Es,{children:[(0,t.jsx)(S.HM,{asChild:!0,children:(0,t.jsx)(k.$,{type:"button",variant:"secondary",children:"Cancel"})}),(0,t.jsx)(k.$,{type:"submit",children:"Add Writer"})]})]})]})}),(0,t.jsx)(S.lG,{open:e$,onOpenChange:eT,children:(0,t.jsxs)(S.Cf,{children:[(0,t.jsxs)(S.c7,{children:[(0,t.jsx)(S.L3,{children:"New Update"}),(0,t.jsx)(S.rr,{children:"Post a new update for your project."})]}),(0,t.jsxs)("form",{onSubmit:sp,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-start gap-4",children:[(0,t.jsx)($.J,{htmlFor:"updateText",className:"text-right pt-2",children:"Update"}),(0,t.jsx)(T.T,{id:"updateText",name:"updateText",placeholder:"What's new?",className:"col-span-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"updateStatus",className:"text-right",children:"Status"}),(0,t.jsxs)(P.l6,{name:"updateStatus",defaultValue:"On Track",children:[(0,t.jsx)(P.bq,{className:"col-span-3",children:(0,t.jsx)(P.yv,{placeholder:"Select status"})}),(0,t.jsxs)(P.gC,{children:[(0,t.jsx)(P.eb,{value:"On Track",children:"On Track"}),(0,t.jsx)(P.eb,{value:"At Risk",children:"At Risk"}),(0,t.jsx)(P.eb,{value:"Off Track",children:"Off Track"}),(0,t.jsx)(P.eb,{value:"No updates",children:"No updates"})]})]})]})]}),(0,t.jsxs)(S.Es,{children:[(0,t.jsx)(S.HM,{asChild:!0,children:(0,t.jsx)(k.$,{type:"button",variant:"secondary",children:"Cancel"})}),(0,t.jsx)(k.$,{type:"submit",children:"Post Update"})]})]})]})}),(0,t.jsx)(A.cj,{open:eU,onOpenChange:eP,children:(0,t.jsxs)(A.h,{className:"w-[500px] sm:w-[540px]",children:[(0,t.jsxs)(A.Fm,{children:[(0,t.jsx)(A.qp,{children:"Project Updates"}),(0,t.jsxs)(A.Qs,{children:["A chronological history of all updates for ",L,"."]})]}),(0,t.jsx)(z,{className:"h-[calc(100%-4rem)] pr-4 mt-4",children:(0,t.jsx)("div",{className:"space-y-6",children:eA.length>0?eA.map(e=>(0,t.jsx)(J,{update:e},e.id)):(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No updates have been posted for this project yet."})})})]})}),(0,t.jsx)(A.cj,{open:Y,onOpenChange:K,children:(0,t.jsxs)(A.h,{className:"w-[600px] sm:w-[640px]",children:[(0,t.jsxs)(A.Fm,{children:[(0,t.jsx)(A.qp,{children:"Project Timeline"}),(0,t.jsxs)(A.Qs,{children:["A chronological history of all events for ",L,"."]})]}),(0,t.jsx)(z,{className:"h-[calc(100%-4rem)] mt-4",children:(0,t.jsx)(G,{events:sx})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 xl:grid-cols-5",children:[(0,t.jsx)("aside",{className:"hidden md:block md:col-span-1 border-r border-border p-6",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Tracks"}),(0,t.jsx)(z,{className:"h-[calc(100vh-220px)] pr-2",children:(0,t.jsx)("div",{className:"space-y-1",children:so.map(e=>(0,t.jsxs)(w(),{href:"/project?id=".concat(encodeURIComponent(e.id),"&album=").concat(encodeURIComponent(String(sd||""))),className:(0,M.cn)("flex items-center gap-2 rounded-md px-2 py-1.5 text-sm hover:bg-accent",e.id===sc&&"bg-accent"),children:[(0,t.jsx)("span",{className:"shrink-0",children:e.emoji}),(0,t.jsx)("span",{className:"truncate",children:e.name})]},e.id))})})]})}),(0,t.jsxs)("div",{className:"md:col-span-2 xl:col-span-3 p-8 space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:L}),(0,t.jsx)("p",{className:"text-muted-foreground",children:null==e?void 0:e.description})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-[auto_1fr] items-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 w-24 shrink-0",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Media"}),(0,t.jsx)("div",{className:"relative ml-auto",children:(0,t.jsxs)(U.AM,{children:[(0,t.jsx)(U.Wv,{asChild:!0,children:(0,t.jsx)(k.$,{title:"Add resource","aria-label":"Add resource",variant:"ghost",size:"icon",className:"h-7 w-7 hover:bg-accent/50",children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})}),(0,t.jsx)(U.hl,{className:"w-80",children:(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium leading-none",children:"Add Resource"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add a new link to your project."})]}),(0,t.jsx)("div",{className:"grid gap-2",children:(0,t.jsxs)("div",{className:"grid grid-cols-3 items-center gap-4",children:[(0,t.jsx)($.J,{htmlFor:"width",children:"Link"}),(0,t.jsx)(D.p,{id:"width",defaultValue:"https://example.com",className:"col-span-2 h-8"})]})}),(0,t.jsx)(k.$,{size:"sm",children:"Add Link"})]})})]})})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 flex-wrap flex-1"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_1fr] items-start gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 w-24 shrink-0 pt-1.5",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Verses"}),(0,t.jsxs)("div",{className:"ml-auto",children:[(0,t.jsx)("input",{ref:e7,type:"file",accept:"audio/*",className:"hidden",onChange:e=>su(e,"verse"),"aria-hidden":!0,tabIndex:-1}),(0,t.jsx)(k.$,{title:"Upload verse","aria-label":"Upload verse",variant:"ghost",size:"icon",className:"h-7 w-7 hover:bg-accent/50",disabled:"verse"===st,onClick:()=>{var e;return null==(e=e7.current)?void 0:e.click()},children:"verse"===st?(0,t.jsx)(n.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(l.A,{className:"h-4 w-4"})})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:eJ.map(sv)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_1fr] items-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 w-24 shrink-0",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Hooks"}),(0,t.jsxs)("div",{className:"ml-auto",children:[(0,t.jsx)("input",{ref:e6,type:"file",accept:"audio/*",className:"hidden",onChange:e=>su(e,"hook"),"aria-hidden":!0,tabIndex:-1}),(0,t.jsx)(k.$,{title:"Upload hook","aria-label":"Upload hook",variant:"ghost",size:"icon",className:"h-7 w-7 hover:bg-accent/50",disabled:"hook"===st,onClick:()=>{var e;return null==(e=e6.current)?void 0:e.click()},children:"hook"===st?(0,t.jsx)(n.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(l.A,{className:"h-4 w-4"})})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:eW.map(sv)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_1fr] items-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 w-24 shrink-0",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Beats"}),(0,t.jsxs)("div",{className:"ml-auto",children:[(0,t.jsx)("input",{ref:se,type:"file",accept:"audio/*",className:"hidden",onChange:e=>su(e,"beat"),"aria-hidden":!0,tabIndex:-1}),(0,t.jsx)(k.$,{title:"Upload beat","aria-label":"Upload beat",variant:"ghost",size:"icon",className:"h-7 w-7 hover:bg-accent/50",disabled:"beat"===st,onClick:()=>{var e;return null==(e=se.current)?void 0:e.click()},children:"beat"===st?(0,t.jsx)(n.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(l.A,{className:"h-4 w-4"})})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:eq.map(sv)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-[auto_1fr] items-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 w-24 shrink-0",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Samples"}),(0,t.jsxs)("div",{className:"ml-auto",children:[(0,t.jsx)("input",{ref:ss,type:"file",accept:"audio/*",className:"hidden",onChange:e=>su(e,"sample"),"aria-hidden":!0,tabIndex:-1}),(0,t.jsx)(k.$,{title:"Upload sample","aria-label":"Upload sample",variant:"ghost",size:"icon",className:"h-7 w-7 hover:bg-accent/50",disabled:"sample"===st,onClick:()=>{var e;return null==(e=ss.current)?void 0:e.click()},children:"sample"===st?(0,t.jsx)(n.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(l.A,{className:"h-4 w-4"})})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 flex-wrap flex-1",children:eQ.map(sv)})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-base",children:"Latest update"}),(0,t.jsx)(k.$,{variant:"outline",size:"sm",className:"h-7",onClick:()=>eP(!0),children:"All"})]}),(0,t.jsx)("div",{className:"flex items-center gap-4 text-sm",children:(0,t.jsxs)(k.$,{variant:"outline",size:"sm",onClick:()=>eT(!0),children:[(0,t.jsx)(x.A,{className:"h-3 w-3 mr-2"}),"New update"]})})]}),eL?(0,t.jsx)(J,{update:eL}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No updates for this project yet."})]}),(0,t.jsxs)("div",{className:"mt-2 p-4 rounded border",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Mix"}),(0,t.jsx)(Z,{files:[...eJ||[],...eW||[],...eq||[],...eQ||[],...eZ?[eZ]:[]]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Description"}),ez?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(T.T,{value:eF,onChange:e=>eE(e.target.value),placeholder:"Add a detailed description for your project...",className:"min-h-[120px]"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(k.$,{onClick:()=>{R(eF),sm({description:eF}),eI(!1)},children:"Save"}),(0,t.jsx)(k.$,{variant:"ghost",onClick:()=>eI(!1),children:"Cancel"})]})]}):(0,t.jsx)("p",{className:"text-muted-foreground whitespace-pre-wrap min-h-[40px] cursor-pointer hover:bg-accent/50 p-2 rounded-md",onClick:()=>{eE("Add description..."===O?"":O),eI(!0)},children:O})]}),(0,t.jsxs)(k.$,{variant:"ghost",className:"text-muted-foreground",onClick:()=>eo(!0),children:[(0,t.jsx)(l.A,{className:"h-4 w-4 mr-2"}),"Milestone"]})]}),(0,t.jsxs)("aside",{className:"md:col-span-1 xl:col-span-1 border-l border-border p-6 space-y-8",children:[(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Status"}),(0,t.jsxs)(U.AM,{children:[(0,t.jsx)(U.Wv,{asChild:!0,children:(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-7",children:[(0,t.jsx)(p.A,{className:(0,M.cn)("h-3 w-3 mr-2",{Backlog:"text-yellow-500 fill-yellow-500/30",Todo:"text-gray-500 fill-gray-500/30","In Progress":"text-blue-500 fill-blue-500/30",Done:"text-green-500 fill-green-500/30","On Track":"text-green-500 fill-green-500/30","At Risk":"text-yellow-500 fill-yellow-500/30","Off Track":"text-red-500 fill-red-500/30","No updates":"text-gray-500 fill-gray-500/30"}[X])}),X]})}),(0,t.jsx)(U.hl,{className:"w-56 p-0",children:(0,t.jsxs)(P.l6,{value:X,onValueChange:e=>ee(e),children:[(0,t.jsx)(P.bq,{className:"border-0 focus:ring-0",children:(0,t.jsx)(P.yv,{placeholder:"Select status"})}),(0,t.jsxs)(P.gC,{children:[(0,t.jsx)(P.eb,{value:"Backlog",children:"Backlog"}),(0,t.jsx)(P.eb,{value:"Todo",children:"Todo"}),(0,t.jsx)(P.eb,{value:"In Progress",children:"In Progress"}),(0,t.jsx)(P.eb,{value:"Done",children:"Done"})]})]})})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Priority"}),(0,t.jsxs)(U.AM,{children:[(0,t.jsx)(U.Wv,{asChild:!0,children:(0,t.jsx)(k.$,{variant:"ghost",size:"sm",className:"h-7",children:es})}),(0,t.jsx)(U.hl,{className:"w-56 p-0",children:(0,t.jsxs)(P.l6,{value:es,onValueChange:e=>ea(e),children:[(0,t.jsx)(P.bq,{className:"border-0 focus:ring-0",children:(0,t.jsx)(P.yv,{placeholder:"Select priority"})}),(0,t.jsxs)(P.gC,{children:[(0,t.jsx)(P.eb,{value:"No priority",children:"No priority"}),(0,t.jsx)(P.eb,{value:"Low",children:"Low"}),(0,t.jsx)(P.eb,{value:"Medium",children:"Medium"}),(0,t.jsx)(P.eb,{value:"High",children:"High"}),(0,t.jsx)(P.eb,{value:"Urgent",children:"Urgent"})]})]})})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Lead"}),(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-7",onClick:()=>ej(!0),children:[(0,t.jsx)(u.A,{className:"h-3 w-3 mr-2"})," ",e.lead?e.lead:"Add lead"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Artists"}),0===em.length?(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-7",onClick:()=>ep(!0),children:[(0,t.jsx)(j.A,{className:"h-3 w-3 mr-2"})," Add artists"]}):(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-7 pr-2",onClick:()=>ep(!0),children:[(0,t.jsx)("span",{className:"truncate max-w-[100px]",children:em[0].name}),em.length>1&&" +".concat(em.length-1)]}),(0,t.jsx)(k.$,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>ep(!0),children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Producers"}),0===eN.length?(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-7",onClick:()=>ey(!0),children:[(0,t.jsx)(j.A,{className:"h-3 w-3 mr-2"})," Add producers"]}):(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-7 pr-2",onClick:()=>ey(!0),children:[(0,t.jsx)("span",{className:"truncate max-w-[100px]",children:eN[0].name}),eN.length>1&&" +".concat(eN.length-1)]}),(0,t.jsx)(k.$,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>ey(!0),children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Writers"}),0===eb.length?(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-7",onClick:()=>eS(!0),children:[(0,t.jsx)(j.A,{className:"h-3 w-3 mr-2"})," Add writers"]}):(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-7 pr-2",onClick:()=>eS(!0),children:[(0,t.jsx)("span",{className:"truncate max-w-[100px]",children:eb[0].name}),eb.length>1&&" +".concat(eb.length-1)]}),(0,t.jsx)(k.$,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>eS(!0),children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Dates"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(U.AM,{children:[(0,t.jsx)(U.Wv,{asChild:!0,children:(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-7",children:[(0,t.jsx)(g.A,{className:"h-3 w-3 mr-2"})," ",et?(0,E.GP)(et,"LLL d"):"Start"]})}),(0,t.jsx)(U.hl,{className:"w-auto p-0",align:"start",children:(0,t.jsx)(F.V,{mode:"single",selected:et,onSelect:el,initialFocus:!0})})]}),(0,t.jsx)("span",{children:"â†’"}),(0,t.jsxs)(U.AM,{children:[(0,t.jsx)(U.Wv,{asChild:!0,children:(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-7",children:[(0,t.jsx)(f.A,{className:"h-3 w-3 mr-2"})," ",er?(0,E.GP)(er,"LLL d"):"Target"]})}),(0,t.jsx)(U.hl,{className:"w-auto p-0",align:"start",children:(0,t.jsx)(F.V,{mode:"single",selected:er,onSelect:ei,initialFocus:!0})})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Teams"}),(0,t.jsxs)(k.$,{variant:"ghost",size:"sm",className:"h-7",children:[(0,t.jsx)(b.eu,{className:"h-5 w-5 mr-2",children:(0,t.jsx)(b.q5,{className:"text-xs",children:"ST"})}),"Stalkiq"]})]})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:"Milestones"}),(0,t.jsx)(k.$,{title:"Add milestone","aria-label":"Add milestone",variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>eo(!0),children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})]}),en.length>0?(0,t.jsx)(H.Bc,{children:(0,t.jsx)("ul",{className:"space-y-2 text-sm",children:en.map(e=>(0,t.jsxs)("li",{className:"flex items-center text-muted-foreground",children:[(0,t.jsx)(N.A,{className:"h-3 w-3 mr-2 shrink-0"}),(0,t.jsxs)(H.m_,{children:[(0,t.jsx)(H.k$,{asChild:!0,children:(0,t.jsx)("span",{className:"truncate",children:e.name})}),(0,t.jsxs)(H.ZI,{children:[(0,t.jsx)("p",{children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]})]},e.id))})}):(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Add milestones to organize work within your project and break it into more granular stages. "," ",(0,t.jsx)(w(),{href:"#",className:"text-foreground",children:"Learn more"})]})]})]})]})]})})}function X(){return(0,t.jsx)(C.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(K,{})})}}}]);