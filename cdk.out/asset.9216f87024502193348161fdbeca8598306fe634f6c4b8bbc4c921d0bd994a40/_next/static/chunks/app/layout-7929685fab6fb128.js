(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>u,r:()=>s});var n=r(5155),o=r(2115),i=r(4253),a=r(2085),l=r(9434);let s=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef((e,t)=>{let{className:r,variant:o,size:a,asChild:u=!1,...d}=e,c=u?i.DX:"button";return(0,n.jsx)(c,{className:(0,l.cn)(s({variant:o,size:a,className:r})),ref:t,...d})});u.displayName="Button"},596:(e,t,r)=>{"use strict";r.d(t,{AudioPlayer:()=>J});var n=r(5155),o=r(285),i=r(2115),a=r(9367),l=r(5185),s=r(6101),u=r(6081),d=r(5845),c=r(4315),f=r(5503),m=r(1275),v=r(3540),h=r(6589),p=["PageUp","PageDown"],g=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],x={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},b="Slider",[w,y,j]=(0,h.N)(b),[P,S]=(0,u.A)(b,[j]),[k,A]=P(b),N=i.forwardRef((e,t)=>{let{name:r,min:o=0,max:s=100,step:u=1,orientation:c="horizontal",disabled:f=!1,minStepsBetweenThumbs:m=0,defaultValue:v=[o],value:h,onValueChange:x=()=>{},onValueCommit:b=()=>{},inverted:y=!1,form:j,...P}=e,S=i.useRef(new Set),A=i.useRef(0),N="horizontal"===c,[E=[],D]=(0,d.i)({prop:h,defaultProp:v,onChange:e=>{var t;null==(t=[...S.current][A.current])||t.focus(),x(e)}}),C=i.useRef(E);function _(e,t){let{commit:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{commit:!1};let n=(String(u).split(".")[1]||"").length,i=function(e,t){let r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-o)/u)*u+o,n),l=(0,a.q)(i,[o,s]);D(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=[...e];return n[r]=t,n.sort((e,t)=>e-t)}(e,l,t);if(!function(e,t){if(t>0)return Math.min(...e.slice(0,-1).map((t,r)=>e[r+1]-t))>=t;return!0}(n,m*u))return e;{A.current=n.indexOf(l);let t=String(n)!==String(e);return t&&r&&b(n),t?n:e}})}return(0,n.jsx)(k,{scope:e.__scopeSlider,name:r,disabled:f,min:o,max:s,valueIndexToChangeRef:A,thumbs:S.current,values:E,orientation:c,form:j,children:(0,n.jsx)(w.Provider,{scope:e.__scopeSlider,children:(0,n.jsx)(w.Slot,{scope:e.__scopeSlider,children:(0,n.jsx)(N?R:M,{"aria-disabled":f,"data-disabled":f?"":void 0,...P,ref:t,onPointerDown:(0,l.m)(P.onPointerDown,()=>{f||(C.current=E)}),min:o,max:s,inverted:y,onSlideStart:f?void 0:function(e){let t=function(e,t){if(1===e.length)return 0;let r=e.map(e=>Math.abs(e-t)),n=Math.min(...r);return r.indexOf(n)}(E,e);_(e,t)},onSlideMove:f?void 0:function(e){_(e,A.current)},onSlideEnd:f?void 0:function(){let e=C.current[A.current];E[A.current]!==e&&b(E)},onHomeKeyDown:()=>!f&&_(o,0,{commit:!0}),onEndKeyDown:()=>!f&&_(s,E.length-1,{commit:!0}),onStepKeyDown:e=>{let{event:t,direction:r}=e;if(!f){let e=p.includes(t.key)||t.shiftKey&&g.includes(t.key),n=A.current;_(E[n]+u*(e?10:1)*r,n,{commit:!0})}}})})})})});N.displayName=b;var[E,D]=P(b,{startEdge:"left",endEdge:"right",size:"width",direction:1}),R=i.forwardRef((e,t)=>{let{min:r,max:o,dir:a,inverted:l,onSlideStart:u,onSlideMove:d,onSlideEnd:f,onStepKeyDown:m,...v}=e,[h,p]=i.useState(null),g=(0,s.s)(t,e=>p(e)),b=i.useRef(void 0),w=(0,c.jH)(a),y="ltr"===w,j=y&&!l||!y&&l;function P(e){let t=b.current||h.getBoundingClientRect(),n=q([0,t.width],j?[r,o]:[o,r]);return b.current=t,n(e-t.left)}return(0,n.jsx)(E,{scope:e.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:(0,n.jsx)(C,{dir:w,"data-orientation":"horizontal",...v,ref:g,style:{...v.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let t=P(e.clientX);null==u||u(t)},onSlideMove:e=>{let t=P(e.clientX);null==d||d(t)},onSlideEnd:()=>{b.current=void 0,null==f||f()},onStepKeyDown:e=>{let t=x[j?"from-left":"from-right"].includes(e.key);null==m||m({event:e,direction:t?-1:1})}})})}),M=i.forwardRef((e,t)=>{let{min:r,max:o,inverted:a,onSlideStart:l,onSlideMove:u,onSlideEnd:d,onStepKeyDown:c,...f}=e,m=i.useRef(null),v=(0,s.s)(t,m),h=i.useRef(void 0),p=!a;function g(e){let t=h.current||m.current.getBoundingClientRect(),n=q([0,t.height],p?[o,r]:[r,o]);return h.current=t,n(e-t.top)}return(0,n.jsx)(E,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:(0,n.jsx)(C,{"data-orientation":"vertical",...f,ref:v,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let t=g(e.clientY);null==l||l(t)},onSlideMove:e=>{let t=g(e.clientY);null==u||u(t)},onSlideEnd:()=>{h.current=void 0,null==d||d()},onStepKeyDown:e=>{let t=x[p?"from-bottom":"from-top"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})})}),C=i.forwardRef((e,t)=>{let{__scopeSlider:r,onSlideStart:o,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:s,onEndKeyDown:u,onStepKeyDown:d,...c}=e,f=A(b,r);return(0,n.jsx)(v.sG.span,{...c,ref:t,onKeyDown:(0,l.m)(e.onKeyDown,e=>{"Home"===e.key?(s(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):p.concat(g).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,l.m)(e.onPointerDown,e=>{let t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),f.thumbs.has(t)?t.focus():o(e)}),onPointerMove:(0,l.m)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)}),onPointerUp:(0,l.m)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),a(e))})})}),_="SliderTrack",z=i.forwardRef((e,t)=>{let{__scopeSlider:r,...o}=e,i=A(_,r);return(0,n.jsx)(v.sG.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...o,ref:t})});z.displayName=_;var L="SliderRange",H=i.forwardRef((e,t)=>{let{__scopeSlider:r,...o}=e,a=A(L,r),l=D(L,r),u=i.useRef(null),d=(0,s.s)(t,u),c=a.values.length,f=a.values.map(e=>U(e,a.min,a.max)),m=c>1?Math.min(...f):0,h=100-Math.max(...f);return(0,n.jsx)(v.sG.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...o,ref:d,style:{...e.style,[l.startEdge]:m+"%",[l.endEdge]:h+"%"}})});H.displayName=L;var I="SliderThumb",T=i.forwardRef((e,t)=>{let r=y(e.__scopeSlider),[o,a]=i.useState(null),l=(0,s.s)(t,e=>a(e)),u=i.useMemo(()=>o?r().findIndex(e=>e.ref.current===o):-1,[r,o]);return(0,n.jsx)(K,{...e,ref:l,index:u})}),K=i.forwardRef((e,t)=>{let{__scopeSlider:r,index:o,name:a,...u}=e,d=A(I,r),c=D(I,r),[f,h]=i.useState(null),p=(0,s.s)(t,e=>h(e)),g=!f||d.form||!!f.closest("form"),x=(0,m.X)(f),b=d.values[o],y=void 0===b?0:U(b,d.min,d.max),j=function(e,t){return t>2?"Value ".concat(e+1," of ").concat(t):2===t?["Minimum","Maximum"][e]:void 0}(o,d.values.length),P=null==x?void 0:x[c.size],S=P?function(e,t,r){let n=e/2,o=q([0,50],[0,n]);return(n-o(t)*r)*r}(P,y,c.direction):0;return i.useEffect(()=>{if(f)return d.thumbs.add(f),()=>{d.thumbs.delete(f)}},[f,d.thumbs]),(0,n.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:"calc(".concat(y,"% + ").concat(S,"px)")},children:[(0,n.jsx)(w.ItemSlot,{scope:e.__scopeSlider,children:(0,n.jsx)(v.sG.span,{role:"slider","aria-label":e["aria-label"]||j,"aria-valuemin":d.min,"aria-valuenow":b,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...u,ref:p,style:void 0===b?{display:"none"}:e.style,onFocus:(0,l.m)(e.onFocus,()=>{d.valueIndexToChangeRef.current=o})})}),g&&(0,n.jsx)(O,{name:null!=a?a:d.name?d.name+(d.values.length>1?"[]":""):void 0,form:d.form,value:b},o)]})});T.displayName=I;var O=e=>{let{value:t,...r}=e,o=i.useRef(null),a=(0,f.Z)(t);return i.useEffect(()=>{let e=o.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(a!==t&&r){let n=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[a,t]),(0,n.jsx)("input",{style:{display:"none"},...r,ref:o,defaultValue:t})};function U(e,t,r){return(0,a.q)(100/(r-t)*(e-t),[0,100])}function q(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}var V=r(9434);let X=i.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,n.jsxs)(N,{ref:t,className:(0,V.cn)("relative flex w-full touch-none select-none items-center",r),...o,children:[(0,n.jsx)(z,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,n.jsx)(H,{className:"absolute h-full bg-primary"})}),(0,n.jsx)(T,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});X.displayName=N.displayName;var $=r(3940),F=r(157);let G=(0,F.A)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);var B=r(3300);let Y=(0,F.A)("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Z=(0,F.A)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);var Q=r(5318);function J(){let{currentTrack:e,isPlaying:t,progress:r,duration:i,isMuted:a,playPause:l,seek:s,toggleMute:u,closePlayer:d,formattedProgress:c,formattedDuration:f}=(0,$.R)();return e?(0,n.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 z-50 flex h-20 items-center justify-between border-t border-border bg-background/80 px-6 backdrop-blur-lg",children:[(0,n.jsx)("div",{className:"flex items-center gap-4 w-1/3",children:(0,n.jsx)("span",{className:"font-medium text-sm truncate",children:e.name})}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[(0,n.jsx)("div",{className:"flex items-center gap-4",children:(0,n.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-10 w-10",onClick:l,children:t?(0,n.jsx)(G,{className:"h-5 w-5"}):(0,n.jsx)(B.A,{className:"h-5 w-5"})})}),(0,n.jsxs)("div",{className:"flex w-full items-center gap-2 text-xs text-muted-foreground",children:[(0,n.jsx)("span",{children:c}),(0,n.jsx)(X,{value:[r],max:i,step:1,onValueChange:e=>s(e[0]),className:"w-full"}),(0,n.jsx)("span",{children:f})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-end gap-4 w-1/3",children:[(0,n.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:u,children:a?(0,n.jsx)(Y,{className:"h-4 w-4"}):(0,n.jsx)(Z,{className:"h-4 w-4"})}),(0,n.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:d,children:(0,n.jsx)(Q.A,{className:"h-4 w-4"})})]})]}):null}},2728:()=>{},3300:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(157).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},3940:(e,t,r)=>{"use strict";r.d(t,{AudioPlayerProvider:()=>a,R:()=>l});var n=r(5155),o=r(2115);let i=(0,o.createContext)(void 0),a=e=>{let{children:t}=e,[r,a]=(0,o.useState)(null),[l,s]=(0,o.useState)(!1),[u,d]=(0,o.useState)(0),[c,f]=(0,o.useState)(0),[m,v]=(0,o.useState)(!1),h=(0,o.useRef)(null),p=e=>{let t=Math.floor(e/60),r=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"))},g=p(u),x=p(c);(0,o.useEffect)(()=>{h.current=new Audio;let e=h.current,t=()=>d(e.currentTime),r=()=>f(e.duration),n=()=>s(!1);return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",r),e.addEventListener("ended",n),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",r),e.removeEventListener("ended",n)}},[]);let b=(0,o.useCallback)(()=>{if(h.current){try{l?h.current.pause():h.current.play().catch(()=>{})}catch(e){}s(!l)}},[l]),w=(0,o.useCallback)(e=>{h.current&&(h.current.currentTime=e,d(e))},[]),y=(0,o.useCallback)(()=>{h.current&&(h.current.muted=!m,v(!m))},[m]);return(0,n.jsx)(i.Provider,{value:{currentTrack:r,isPlaying:l,progress:u,duration:c,isMuted:m,setCurrentTrack:e=>{h.current&&((null==r?void 0:r.url)===e.url?b():(a(e),h.current.src=e.url,h.current.play().catch(()=>{}),s(!0)))},playPause:b,seek:w,toggleMute:y,closePlayer:()=>{h.current&&(h.current.pause(),s(!1)),a(null)},formattedProgress:g,formattedDuration:x},children:t})},l=()=>{let e=(0,o.useContext)(i);if(void 0===e)throw Error("useAudioPlayer must be used within an AudioPlayerProvider");return e}},4046:(e,t,r)=>{"use strict";r.d(t,{O:()=>l,ProjectProvider:()=>a});var n=r(5155),o=r(2115);let i=(0,o.createContext)(void 0),a=e=>{let{children:t}=e,[r,a]=(0,o.useState)({}),l=(e,t)=>{a(r=>({...r,[e]:{...r[e],projects:t}}))};return(0,n.jsx)(i.Provider,{value:{projectsByAlbum:r,getProjectsForAlbum:e=>{var t;return(null==(t=r[e])?void 0:t.projects)||[]},setProjectsForAlbum:l,addProjectToAlbum:(e,t)=>{var n;let o={...t,id:crypto.randomUUID()},i=[...(null==(n=r[e])?void 0:n.projects)||[],o].sort((e,t)=>e.targetDate.getTime()-t.targetDate.getTime());l(e,i)},createAlbum:(e,t)=>{r[e]||a(r=>({...r,[e]:{albumName:t,projects:[]}}))},updateProjectStatus:(e,t,n)=>{var o;let i=((null==(o=r[e])?void 0:o.projects)||[]).map(e=>e.id===t?{...e,status:n}:e);l(e,i)},updateProject:(e,t)=>{var n;let o=((null==(n=r[e])?void 0:n.projects)||[]).map(e=>e.id===t.id?t:e);l(e,o)}},children:t})},l=()=>{let e=(0,o.useContext)(i);if(void 0===e)throw Error("useProjectContext must be used within a ProjectProvider");return e}},4102:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2728,23)),Promise.resolve().then(r.bind(r,596)),Promise.resolve().then(r.bind(r,4046)),Promise.resolve().then(r.bind(r,3940))},5503:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(2115);function o(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},9367:(e,t,r)=>{"use strict";function n(e,[t,r]){return Math.min(r,Math.max(t,e))}r.d(t,{q:()=>n})},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var n=r(2596),o=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.QP)((0,n.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[690,198,699,441,684,358],()=>t(4102)),_N_E=e.O()}]);