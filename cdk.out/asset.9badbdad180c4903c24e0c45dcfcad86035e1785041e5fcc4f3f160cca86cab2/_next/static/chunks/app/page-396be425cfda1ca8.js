(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3792:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>c});var a=o(2115),r=o(5695),n=o(9323);function c(){let e=(0,r.useRouter)();return(0,a.useEffect)(()=>{let{idToken:t}=(0,n.Ht)();e.replace("/dashboard")},[e]),null}},5695:(e,t,o)=>{"use strict";var a=o(8999);o.o(a,"useParams")&&o.d(t,{useParams:function(){return a.useParams}}),o.o(a,"useRouter")&&o.d(t,{useRouter:function(){return a.useRouter}}),o.o(a,"useSearchParams")&&o.d(t,{useSearchParams:function(){return a.useSearchParams}})},6259:(e,t,o)=>{Promise.resolve().then(o.bind(o,3792))},9323:(e,t,o)=>{"use strict";o.d(t,{Ht:()=>l,R$:()=>s,c$:()=>i});let a="rollout-016442247702-us-west-2.auth.us-west-2.amazoncognito.com",r="1m9ih2q5074gl4cuhvb64hfnta";function n(e){return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function c(e){let t=new TextEncoder().encode(e);return n(await crypto.subtle.digest("SHA-256",t))}async function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n(crypto.getRandomValues(new Uint8Array(32)).buffer),o=await c(t);localStorage.setItem("pkce_verifier",t);let i=new URLSearchParams({client_id:r,response_type:"code",scope:"openid email profile",redirect_uri:"".concat(window.location.origin,"/auth/callback/"),code_challenge_method:"S256",code_challenge:o});e.signup&&i.set("screen_hint","signup"),e.idp&&i.set("identity_provider",e.idp),window.location.href="https://".concat(a,"/oauth2/authorize?").concat(i.toString())}async function s(e){let t=new URLSearchParams({grant_type:"authorization_code",client_id:r,code:e,code_verifier:localStorage.getItem("pkce_verifier")||"",redirect_uri:"".concat(window.location.origin,"/auth/callback/")}),o=await fetch("https://".concat(a,"/oauth2/token"),{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:t});if(!o.ok)throw Error("Token exchange failed");let n=await o.json(),c=Math.floor(Date.now()/1e3)+(n.expires_in||3600);localStorage.setItem("id_token",n.id_token),localStorage.setItem("access_token",n.access_token),localStorage.setItem("refresh_token",n.refresh_token||""),localStorage.setItem("token_expires_at",String(c))}function l(){return{idToken:localStorage.getItem("id_token")||void 0,accessToken:localStorage.getItem("access_token")||void 0}}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(6259)),_N_E=e.O()}]);